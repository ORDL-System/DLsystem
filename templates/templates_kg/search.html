{% extends "templates_kg/base.html" %}

{% block styles %}
    {{ super() }} <!-- 调用父模板（base.html）的styles块内容，确保base的样式能被引入 -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_kg_search.css') }}">
{% endblock %}

{% block content %}{{ super() }}
    <!-- 查询表单 -->
    <div class="query-container">
        <div class="query-title">知识图谱查询</div>
        <form action="#" id="query-form">
            <input type="text" id="query-input" placeholder="请输入查询问题" autocomplete="off">
            <button type="submit" id="query-button">查询</button>
        </form>
    </div>

    <!-- 消息容器，默认内容为空 -->
    <div id="message-container" class="alert alert-danger" style="display: none; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #f5c6cb; background-color: #f8d7da; color: #721c24;">
        {{ message if message else '' }}
    </div>

    <!-- 结果容器 -->
    <div id="result-container" style="margin-top: 20px;">
        {% if results %}
            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                {% for record in results %}
                    <div class="result-card" style="padding: 15px; border: 1px solid #e3e3e3; border-radius: 8px; background-color: #f9f9f9; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); width: calc(33.333% - 10px); box-sizing: border-box;">
                        <p style="margin: 0; font-size: 14px; color: #333;">{{ record }}</p>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div style="text-align: center; padding: 20px; color: #6c757d; background-color: #f9f9f9; border: 1px dashed #ccc; border-radius: 8px;">
                暂无查询结果
            </div>
        {% endif %}
      </div>z

    <!-- 动态注入查询URL -->
    <script>const queryUrl = "{{ url_for('search.kg_search') }}";</script>
{% endblock %}